import{u as $,r as _,o as B,a as l,c as i,b as o,F as d,d as m,f as u,e as h,g as y,w as g,n as b,t as p}from"./index-27f356df.js";import{g as c,L as k}from"./genre-81b8118d.js";const x=o("h1",null,"Filmes",-1),D={class:"genre-list"},L=["onClick","onKeypress"],M={class:"movie-list"},G=["onKeypress"],R=["src","alt","onClick"],F={class:"movie-details"},N={class:"movie-title"},S={class:"movie-release-date"},V={class:"movie-genres"},U=["onKeypress","onClick"],j={__name:"MoviesView",setup(z){const w=$(),s=_(!1),v=_([]);_([]);const C=t=>new Date(t).toLocaleDateString("pt-BR");function f(t){w.push({name:"MovieDetails",params:{movieId:t}})}const r=async t=>{if(t!==0){c.setCurrentGenreId(t),s.value=!0;const a=await y.get("discover/movie",{params:{with_genres:t,language:"pt-BR"}});v.value=a.data.results,s.value=!1}else{s.value=!0;const a=await y.get("movie/popular",{params:{language:"pt-BR"}});v.value=a.data.results,s.value=!1}};return B(async()=>{s.value=!0,await c.getAllGenres("movie"),r(0),s.value=!1}),(t,a)=>(l(),i(d,null,[x,o("ul",D,[(l(!0),i(d,null,m(u(c).genres,e=>(l(),i("li",{tabindex:"0",key:e.id,onClick:n=>r(e.id),onKeypress:g(n=>r(e.id),["enter"]),class:b(["genre-item",{active:e.id===u(c).currentGenreId}])},p(e.name),43,L))),128))]),h(u(k),{active:s.value,"onUpdate:active":a[0]||(a[0]=e=>s.value=e),"is-full-page":""},null,8,["active"]),o("div",M,[(l(!0),i(d,null,m(v.value,e=>(l(),i("div",{tabindex:"0",key:e.id,onKeypress:g(n=>f(e.id),["enter"]),class:"movie-card"},[o("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title,onClick:n=>f(e.id)},null,8,R),o("div",F,[o("p",N,p(e.title),1),o("p",S,p(C(e.release_date)),1),o("p",V,[(l(!0),i(d,null,m(e.genre_ids,n=>(l(),i("span",{tabindex:"0",key:n,onKeypress:g(K=>r(n),["enter"]),onClick:K=>r(n)},p(u(c).getGenreName(n)),41,U))),128))])])],40,G))),128))]),h(u(k),{active:s.value,"onUpdate:active":a[1]||(a[1]=e=>s.value=e),"is-full-page":""},null,8,["active"])],64))}};export{j as default};
