import{u as w,r as _,o as C,a as n,c as o,b as s,F as u,d as v,f as d,e as $,n as B,t as p,w as g,g as D}from"./index-17e5a02a.js";import{g as l,L as K}from"./genre-b4794112.js";const L=s("h1",null,"Filmes",-1),M={class:"genre-list"},b=["onClick"],x={class:"movie-list"},G=["onKeypress"],F=["src","alt","onClick"],N={class:"movie-details"},R={class:"movie-title"},S={class:"movie-release-date"},V={class:"movie-genres"},z=["onKeypress","onClick"],U={__name:"MoviesView",setup(A){const h=w(),i=_(!1),m=_([]);_([]);const f=t=>new Date(t).toLocaleDateString("pt-BR");function k(t){h.push({name:"MovieDetails",params:{movieId:t}})}const r=async t=>{l.setCurrentGenreId(t),i.value=!0;const c=await D.get("discover/movie",{params:{with_genres:t,language:"pt-BR"}});m.value=c.data.results,i.value=!1};return C(async()=>{i.value=!0,await l.getAllGenres("movie"),i.value=!1}),(t,c)=>(n(),o(u,null,[L,s("ul",M,[(n(!0),o(u,null,v(d(l).genres,e=>(n(),o("li",{key:e.id,onClick:a=>r(e.id),class:B(["genre-item",{active:e.id===d(l).currentGenreId}])},p(e.name),11,b))),128))]),$(d(K),{active:i.value,"onUpdate:active":c[0]||(c[0]=e=>i.value=e),"is-full-page":""},null,8,["active"]),s("div",x,[(n(!0),o(u,null,v(m.value,e=>(n(),o("div",{tabindex:"0",key:e.id,onKeypress:g(a=>r(e.id),["enter"]),class:"movie-card"},[s("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title,onClick:a=>k(e.id)},null,8,F),s("div",N,[s("p",R,p(e.title),1),s("p",S,p(f(e.release_date)),1),s("p",V,[(n(!0),o(u,null,v(e.genre_ids,a=>(n(),o("span",{tabindex:"0",key:a,onKeypress:g(y=>r(a),["enter"]),onClick:y=>r(a)},p(d(l).getGenreName(a)),41,z))),128))])])],40,G))),128))])],64))}};export{U as default};
