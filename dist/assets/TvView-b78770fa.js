import{u as C,r as v,o as V,a as o,c as r,b as l,F as c,d as _,f as m,e as $,g as f,w as g,t as d}from"./index-aeba50e3.js";import{g as p,L as B}from"./genre-c5e31e1c.js";const D=l("h1",null,"SÃ©ries",-1),K={class:"genre-list"},L=["onClick"],T={class:"TV-list"},b=["src","alt","onClick"],R={class:"TV-details"},S={class:"TV-title"},x={class:"TV-release-date"},G={class:"TV-genres"},N=["onKeypress","onClick"],M={__name:"TvView",setup(F){const h=C(),a=v(!1),u=v([]);v([]);const k=s=>new Date(s).toLocaleDateString("pt-BR");function y(s){h.push({name:"TVDetails",params:{TVId:s}})}const i=async s=>{if(s!==0){p.setCurrentGenreId(s),a.value=!0;const t=await f.get("discover/tv",{params:{with_genres:s,language:"pt-BR"}});u.value=t.data.results,a.value=!1}else{a.value=!0;const t=await f.get("tv/popular",{params:{language:"pt-BR"}});u.value=t.data.results,a.value=!1}};return V(async()=>{a.value=!0,await p.getAllGenres("tv"),i(0),a.value=!1}),(s,t)=>(o(),r(c,null,[D,l("ul",K,[(o(!0),r(c,null,_(m(p).genres,e=>(o(),r("li",{key:e.id,onClick:n=>i(e.id),onKeypress:t[0]||(t[0]=g(n=>i(u.value.id),["enter"])),class:"genre-item"},d(e.name),41,L))),128))]),$(m(B),{active:a.value,"onUpdate:active":t[1]||(t[1]=e=>a.value=e),"is-full-page":""},null,8,["active"]),l("div",T,[(o(!0),r(c,null,_(u.value,e=>(o(),r("div",{tabindex:"0",key:e.id,onKeypress:t[2]||(t[2]=g(n=>i(s.tv.id),["enter"])),class:"TV-card"},[l("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title,onClick:n=>y(e.id)},null,8,b),l("div",R,[l("p",S,d(e.name),1),l("p",x,d(k(e.first_air_date)),1),l("p",G,[(o(!0),r(c,null,_(e.genre_ids,n=>(o(),r("span",{tabindex:"0",key:n,onKeypress:g(w=>i(n),["enter"]),onClick:w=>i(n)},d(m(p).getGenreName(n)),41,N))),128))])])],32))),128))])],64))}};export{M as default};
