import{u as K,r as v,o as $,a as o,c as i,b as a,F as d,d as _,f as r,e as h,w as m,n as b,t as p,g as x}from"./index-c4808fc9.js";import{g as c,L as y}from"./genre-8eb0e737.js";const B=a("h1",null,"Filmes",-1),D={class:"genre-list"},L=["onClick","onKeypress"],M={class:"movie-list"},G=["onKeypress"],F=["src","alt","onClick"],N={class:"movie-details"},R={class:"movie-title"},S={class:"movie-release-date"},V={class:"movie-genres"},U=["onKeypress","onClick"],I={__name:"MoviesView",setup(z){const k=K(),s=v(!1),g=v([]);v([]);const w=n=>new Date(n).toLocaleDateString("pt-BR");function f(n){k.push({name:"MovieDetails",params:{movieId:n}})}const u=async n=>{c.setCurrentGenreId(n),s.value=!0;const l=await x.get("discover/movie",{params:{with_genres:n,language:"pt-BR"}});g.value=l.data.results,s.value=!1};return $(async()=>{s.value=!0,await c.getAllGenres("movie"),s.value=!1}),(n,l)=>(o(),i(d,null,[B,a("ul",D,[(o(!0),i(d,null,_(r(c).genres,e=>(o(),i("li",{tabindex:"0",key:e.id,onClick:t=>u(e.id),onKeypress:m(t=>u(e.id),["enter"]),class:b(["genre-item",{active:e.id===r(c).currentGenreId}])},p(e.name),43,L))),128))]),h(r(y),{active:s.value,"onUpdate:active":l[0]||(l[0]=e=>s.value=e),"is-full-page":""},null,8,["active"]),a("div",M,[(o(!0),i(d,null,_(g.value,e=>(o(),i("div",{tabindex:"0",key:e.id,onKeypress:m(t=>f(e.id),["enter"]),class:"movie-card"},[a("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title,onClick:t=>f(e.id)},null,8,F),a("div",N,[a("p",R,p(e.title),1),a("p",S,p(w(e.release_date)),1),a("p",V,[(o(!0),i(d,null,_(e.genre_ids,t=>(o(),i("span",{tabindex:"0",key:t,onKeypress:m(C=>u(t),["enter"]),onClick:C=>u(t)},p(r(c).getGenreName(t)),41,U))),128))])])],40,G))),128))]),h(r(y),{active:s.value,"onUpdate:active":l[1]||(l[1]=e=>s.value=e),"is-full-page":""},null,8,["active"])],64))}};export{I as default};
